{"version":3,"sources":["components/button/button.jsx","components/image-gallery-item/image-gallery-item.jsx","components/image-gallery/image-gallery.jsx","components/loader/loader.jsx","components/search-bar/search-bar.jsx","util/api-client.js","components/app/app.jsx","reportWebVitals.js","index.js"],"names":["Button","onClick","type","className","ImageGalleryItem","src","alt","ImageGallery","adjustScroll","scrollY","prevImages","images","length","window","scrollTo","top","innerHeight","behavior","prevProps","prevState","snapshot","this","props","galleryItems","map","id","previewURL","tags","Component","Loader","color","height","width","timeout","SearchBar","state","query","handleSubmit","event","preventDefault","onSubmit","trim","handleChange","value","target","setState","onChange","autoComplete","autoFocus","placeholder","getImagesResponse","page","a","url","fetch","response","ok","Promise","reject","Error","statusText","json","parsedData","console","log","INITIAL_STATE","totalHits","error","isLoading","App","handleSearchFormSubmit","firstPage","getImages","hits","handleLoadMoreButtonClick","nextPage","concat","shouldShowLoadButton","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f69b326b.chunk.js","sourcesContent":["const Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","const ImageGalleryItem = ({ src, alt }) => {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img src={src} alt={alt} className=\"ImageGalleryItem-image\" />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from '../image-gallery-item';\nimport { Component } from 'react';\n\nclass ImageGallery extends Component {\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    return { scrollY: window.scrollY };\n  }\n\n  adjustScroll = (scrollY, prevImages, images) => {\n    if (prevImages.length === 0 || prevImages === images) return;\n\n    if (prevImages.length >= images.length) {\n      window.scrollTo({\n        top: 0,\n      });\n      return;\n    }\n\n    window.scrollTo({\n      top: scrollY + window.innerHeight - 150,\n      behavior: 'smooth',\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const prevImages = prevProps.images;\n    const { scrollY } = snapshot;\n    const { images } = this.props;\n\n    this.adjustScroll(scrollY, prevImages, images);\n  }\n\n  render() {\n    const { images } = this.props;\n\n    const galleryItems = images.map(({ id, previewURL, tags }) => (\n      <ImageGalleryItem key={id} src={previewURL} alt={tags} />\n    ));\n\n    return <ul className=\"ImageGallery\">{galleryItems}</ul>;\n  }\n}\n\nexport default ImageGallery;\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport ReactLoader from 'react-loader-spinner';\n\nconst Loader = props => {\n  return (\n    <ReactLoader\n      className=\"Loader\"\n      type=\"TailSpin\"\n      color=\"#303f9f\"\n      height={50}\n      width={50}\n      timeout={3000} //3 secs\n    />\n  );\n};\n\nexport default Loader;\n","import { Component } from 'react';\n\nclass SearchBar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { query } = this.state;\n    const { onSubmit } = this.props;\n    const trimmedQuery = query.trim();\n\n    onSubmit(trimmedQuery);\n  };\n\n  handleChange = event => {\n    const { value } = event.target;\n    this.setState({ query: value });\n  };\n  // { onSubmit }fF\n  render() {\n    return (\n      <header className=\"Searchbar\" onSubmit={this.handleSubmit}>\n        <form className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            onChange={this.handleChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","const BASE_URL = 'https://pixabay.com/api';\nconst KEY = '23157120-208317e5fddd4920b074585fd';\nconst PAGE_SIZE = 12;\n\nconst getImagesResponse = async (page, query) => {\n  try {\n    const url = `${BASE_URL}/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${PAGE_SIZE}`;\n    const response = await fetch(url);\n    if (!response.ok) {\n      return Promise.reject(new Error(response.statusText));\n    }\n\n    const parsedData = await response.json();\n    return parsedData;\n  } catch (error) {\n    console.log('error', error);\n  }\n};\n\nexport { getImagesResponse as getImages };\n","import React, { Component } from 'react';\nimport Button from '../button';\nimport ImageGallery from '../image-gallery';\nimport Loader from '../loader';\nimport SearchBar from '../search-bar';\nimport { getImages } from '../../util/api-client';\n\nconst INITIAL_STATE = {\n  page: 1,\n  totalHits: 0,\n  query: '',\n  images: [],\n  error: '',\n  isLoading: false,\n};\n\nclass App extends Component {\n  state = {\n    ...INITIAL_STATE,\n  };\n\n  handleSearchFormSubmit = async query => {\n    if (this.state.query === query) return;\n\n    const firstPage = 1;\n\n    if (!query) {\n      this.setState({ ...INITIAL_STATE });\n      return;\n    }\n\n    this.setState({ isLoading: true });\n    const { hits, totalHits } = await getImages(firstPage, query);\n    this.setState({ ...INITIAL_STATE, query, totalHits, images: [...hits] });\n  };\n\n  handleLoadMoreButtonClick = async () => {\n    if (this.state.isLoading) return;\n    const { page, query } = this.state;\n    const nextPage = page + 1;\n\n    this.setState({ isLoading: true });\n\n    const { hits, totalHits } = await getImages(nextPage, query);\n\n    this.setState(prevState => {\n      return {\n        isLoading: false,\n        totalHits,\n        page: nextPage,\n        images: prevState.images.concat(hits),\n      };\n    });\n  };\n\n  render() {\n    const { images, totalHits, isLoading } = this.state;\n    const shouldShowLoadButton = images.length < totalHits;\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.handleSearchFormSubmit} />\n        <ImageGallery images={images} />\n        {isLoading && <Loader />}\n        {shouldShowLoadButton && <Button onClick={this.handleLoadMoreButtonClick} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.scss';\nimport App from './components/app';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}